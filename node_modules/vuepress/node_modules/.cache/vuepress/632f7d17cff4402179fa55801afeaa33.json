{"remainingRequest":"/Users/vivi./Dev/myVuePressDoc/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/vivi./Dev/myVuePressDoc/node_modules/vuepress/lib/webpack/markdownLoader.js??ref--1-2!/Users/vivi./Dev/myVuePressDoc/docs/docker/conditionsdockerfile.md?vue&type=template&id=f9abedc0&","dependencies":[{"path":"/Users/vivi./Dev/myVuePressDoc/docs/docker/conditionsdockerfile.md","mtime":1631613175239},{"path":"/Users/vivi./Dev/myVuePressDoc/node_modules/cache-loader/dist/cjs.js","mtime":1660115262090},{"path":"/Users/vivi./Dev/myVuePressDoc/node_modules/cache-loader/dist/cjs.js","mtime":1660115262090},{"path":"/Users/vivi./Dev/myVuePressDoc/node_modules/babel-loader/lib/index.js","mtime":1660115261629},{"path":"/Users/vivi./Dev/myVuePressDoc/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1660115262578},{"path":"/Users/vivi./Dev/myVuePressDoc/node_modules/cache-loader/dist/cjs.js","mtime":1660115262090},{"path":"/Users/vivi./Dev/myVuePressDoc/node_modules/vue-loader/lib/index.js","mtime":1660115262578},{"path":"/Users/vivi./Dev/myVuePressDoc/node_modules/vuepress/lib/webpack/markdownLoader.js","mtime":1660115261540}],"contextDependencies":[],"result":["\n<div class=\"content\"><h1 id=\"logique-conditionnelle-dans-dockerfile\"><a class=\"header-anchor\" href=\"#logique-conditionnelle-dans-dockerfile\" aria-hidden=\"true\">#</a> Logique conditionnelle dans Dockerfile</h1>\n<p>Parfois, lors de l'exécution d'un Dockerfile, vous devez exécuter une logique conditionnelle basée sur une variable ARG. Cela peut être pratique dans l'instance où vous souhaitez exécuter une version de production ou une version de développement ou que vous devez exécuter une étape supplémentaire pour la production, etc.</p>\n<!--beforebegin--><div class=\"language- extra-class\"><!--afterbegin--><pre v-pre class=\"language-text\"><code>ARG ENV\n\nRUN if [ &quot;$ENV&quot; = &quot;production&quot; ] ; then yarn client:build:prod ; else yarn client:build ; fi\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>Lorsque vous exécutez ceci, vous devez passer l'argument ENV dans le cadre de votre commande de construction de docker:</p>\n<!--beforebegin--><div class=\"language- extra-class\"><!--afterbegin--><pre v-pre class=\"language-text\"><code>docker build -t node-image .  --build-arg ENV=production\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>Lisez cette réponse de Stackoverflow à ce sujet <a href=\"https://translate.google.com/website?sl=auto&amp;tl=fr&amp;u=https://stackoverflow.com/questions/43654656/dockerfile-if-else-condition-with-external-arguments\" target=\"_blank\" rel=\"noopener noreferrer\">ici<OutboundLink/></a> . Il convient de noter que l'utilisation de la logique conditionnelle dans un Dockerfile force le Dockerfile à être construit à chaque fois alors que normalement, si rien ne changeait, il serait mis en cache. Étant donné que cet argument de construction est dynamique, l'étape de construction de Docker ne peut pas être mise en cache. En bref, l'utilisation de la logique conditionnelle dans votre Dockerfile ralentira la construction.</p>\n</div>\n",null]}