(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{351:function(e,o,r){"use strict";r.r(o);var n=r(43),c=Object(n.a)({},(function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"commandes-de-base"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#commandes-de-base"}},[e._v("#")]),e._v(" Commandes de base")]),e._v(" "),r("blockquote",[r("p",[e._v("An image is a read-only template with instructions for creating a Docker container.docs.docker.com/engine/docker-overview/#docker-objects")])]),e._v(" "),r("blockquote",[r("p",[e._v("A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image.docs.docker.com/engine/reference/builder/")])]),e._v(" "),r("blockquote",[r("p",[e._v("A container is a runnable instance of an image. You can create, start, stop, move, or delete a container. A container is a process which runs on a host. ...the container process that runs is isolated in that it has its own file system, its own networking, and its own isolated process tree separate from the host.docs.docker.com/engine/docker-overview/#docker-objects, docs.docker.com/engine/reference/run/")])]),e._v(" "),r("h3",{attrs:{id:"listing"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#listing"}},[e._v("#")]),e._v(" Listing")]),e._v(" "),r("ul",[r("li",[e._v("List images:"),r("br"),e._v(" "),r("code",[e._v("[docker image ls](https://docs.docker.com/engine/reference/commandline/image_ls/)")]),r("br"),e._v("\n--- OR ---"),r("br"),e._v(" "),r("code",[e._v("[docker images](https://docs.docker.com/engine/reference/commandline/images/)")])]),e._v(" "),r("li",[e._v("List containers:"),r("br"),e._v(" "),r("code",[e._v("[docker container ls -a](https://docs.docker.com/engine/reference/commandline/container_ls/)")]),r("br"),e._v("\n--- OR ---"),r("br"),e._v(" "),r("code",[e._v("[docker ps -a](https://docs.docker.com/engine/reference/commandline/ps/)")])]),e._v(" "),r("li",[e._v("List volumes:"),r("br"),e._v(" "),r("code",[e._v("[docker volume ls](https://docs.docker.com/engine/reference/commandline/volume_ls/)")])]),e._v(" "),r("li",[e._v("List networks:"),r("br"),e._v(" "),r("code",[e._v("[docker network ls](https://docs.docker.com/engine/reference/commandline/network_ls/)")])]),e._v(" "),r("li",[e._v("List all containers (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose ps](https://www.saltycrane.com/cheat-sheets/docker/)")])])]),e._v(" "),r("h3",{attrs:{id:"removing"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#removing"}},[e._v("#")]),e._v(" Removing")]),e._v(" "),r("ul",[r("li",[e._v("Remove a container:"),r("br"),e._v(" "),r("code",[e._v("[docker rm my_container](https://docs.docker.com/engine/reference/commandline/rm/)")])]),e._v(" "),r("li",[e._v("Remove all stopped containers:"),r("br"),e._v(" "),r("code",[e._v("[docker container prune](https://docs.docker.com/engine/reference/commandline/container_prune/)")])]),e._v(" "),r("li",[e._v("Remove an image:"),r("br"),e._v(" "),r("code",[e._v("[docker image rm my-image](https://docs.docker.com/engine/reference/commandline/image_rm/)")]),r("br"),e._v("\n--- OR ---"),r("br"),e._v(" "),r("code",[e._v("[docker rmi my-image](https://docs.docker.com/engine/reference/commandline/rmi/)")])]),e._v(" "),r("li",[e._v("Remove dangling images:"),r("br"),e._v(" "),r("code",[e._v("[docker image prune](https://docs.docker.com/engine/reference/commandline/image_prune/)")])]),e._v(" "),r("li",[e._v("Remove all images:"),r("br"),e._v(" "),r("code",[e._v("[docker image prune -a](https://docs.docker.com/engine/reference/commandline/image_prune/)")])]),e._v(" "),r("li",[e._v("Remove a volume:"),r("br"),e._v(" "),r("code",[e._v("[docker volume rm my_volume](https://docs.docker.com/engine/reference/commandline/volume_rm/)")])]),e._v(" "),r("li",[e._v("Remove all volumes:"),r("br"),e._v(" "),r("code",[e._v("[docker volume prune](https://docs.docker.com/engine/reference/commandline/volume_prune/)")])]),e._v(" "),r("li",[e._v("Stop and remove containers and networks in "),r("code",[e._v("docker-compose.yml")]),e._v(". (This does not remove volumes.)"),r("br"),e._v(" "),r("code",[e._v("[docker-compose down](https://docs.docker.com/compose/reference/down/)")])]),e._v(" "),r("li",[e._v("Remove everything:"),r("br"),e._v(" "),r("strong",[e._v("Preferences -> Uninstall / Reset -> Reset to factory defaults")])])]),e._v(" "),r("h3",{attrs:{id:"pulling-images"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pulling-images"}},[e._v("#")]),e._v(" Pulling images")]),e._v(" "),r("ul",[r("li",[e._v("Pull and image from the Docker registry ("),r("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("hub.docker.com"),r("OutboundLink")],1),e._v("):"),r("br"),e._v(" "),r("code",[e._v("[docker pull my-image](https://docs.docker.com/engine/reference/commandline/pull/)")])])]),e._v(" "),r("h3",{attrs:{id:"publishing-images"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#publishing-images"}},[e._v("#")]),e._v(" Publishing images")]),e._v(" "),r("p",[e._v("See also: "),r("a",{attrs:{href:"https://docs.docker.com/get-started/part2/#share-your-image",target:"_blank",rel:"noopener noreferrer"}},[e._v("Get started with Docker - Share you image"),r("OutboundLink")],1)]),e._v(" "),r("ul",[r("li",[e._v("Login to the Docker registry ("),r("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("hub.docker.com"),r("OutboundLink")],1),e._v("):"),r("br"),e._v(" "),r("code",[e._v("[docker login](https://docs.docker.com/engine/reference/commandline/login/)")])]),e._v(" "),r("li",[e._v("Tag an image:"),r("br"),e._v(" "),r("code",[e._v("[docker tag my-image my-username/my-repo:my-tag](https://docs.docker.com/engine/reference/commandline/tag/)")])]),e._v(" "),r("li",[e._v("Push an image to the Docker registry:"),r("br"),e._v(" "),r("code",[e._v("[docker push my-username/my-repo:my-tag](https://docs.docker.com/engine/reference/commandline/push/)")])])]),e._v(" "),r("h3",{attrs:{id:"building-images-from-dockerfiles"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#building-images-from-dockerfiles"}},[e._v("#")]),e._v(" Building images from Dockerfiles")]),e._v(" "),r("ul",[r("li",[e._v("Build an image from a Dockerfile in the current directory:"),r("br"),e._v(" "),r("code",[e._v("[docker build -t my-image .](https://docs.docker.com/engine/reference/commandline/build/)")])]),e._v(" "),r("li",[e._v("Build an image using a differently-named Dockerfile:"),r("br"),e._v(" "),r("code",[e._v("[docker build -f Dockerfile-other -t my-image .](https://docs.docker.com/engine/reference/commandline/build/)")])]),e._v(" "),r("li",[e._v("Rebuild all images (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose build](https://docs.docker.com/compose/reference/build/)")])]),e._v(" "),r("li",[e._v("Rebuild a specific image (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose build my_service](https://docs.docker.com/compose/reference/build/)")]),e._v(" "),r("ul",[r("li",[e._v("where "),r("code",[e._v("my_service")]),e._v(" is one of the services listed in the "),r("code",[e._v("docker-compose.yml")]),e._v(" file")])])])]),e._v(" "),r("h3",{attrs:{id:"creating-containers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#creating-containers"}},[e._v("#")]),e._v(" Creating containers")]),e._v(" "),r("ul",[r("li",[e._v("Create a new container from an image:"),r("br"),e._v(" "),r("code",[e._v("[docker create my-image](https://docs.docker.com/engine/reference/commandline/create/)")])]),e._v(" "),r("li",[e._v("Build new images and create all containers (Compose). (This will not rebuild images if a Dockerfile changes.) "),r("code",[e._v("[docker-compose up --no-start](https://docs.docker.com/compose/reference/up/)")])])]),e._v(" "),r("h3",{attrs:{id:"starting-stopping-containers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#starting-stopping-containers"}},[e._v("#")]),e._v(" Starting / stopping containers")]),e._v(" "),r("ul",[r("li",[e._v("Start a container:"),r("br"),e._v(" "),r("code",[e._v("[docker start my_container](https://docs.docker.com/engine/reference/commandline/start/)")])]),e._v(" "),r("li",[e._v("Stop a container:"),r("br"),e._v(" "),r("code",[e._v("[docker stop my_container](https://docs.docker.com/engine/reference/commandline/stop/)")])]),e._v(" "),r("li",[e._v("Start all containers (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose start](https://docs.docker.com/compose/reference/start/)")])]),e._v(" "),r("li",[e._v("Stop all containers (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose stop](https://docs.docker.com/compose/reference/stop/)")])])]),e._v(" "),r("h3",{attrs:{id:"running-containers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#running-containers"}},[e._v("#")]),e._v(" Running containers")]),e._v(" "),r("p",[r("code",[e._v("docker run")]),e._v(" is a combination of (optionally) "),r("code",[e._v("docker pull")]),e._v(", "),r("code",[e._v("docker create")]),e._v(", and "),r("code",[e._v("docker start")]),e._v(". See also "),r("a",{attrs:{href:"https://docs.docker.com/engine/reference/run/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker run reference"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("ul",[r("li",[e._v("Create a container from "),r("code",[e._v("my-image")]),e._v(", and run the default command:"),r("br"),e._v(" "),r("code",[e._v("[docker run my-image](https://docs.docker.com/engine/reference/commandline/run/)")])]),e._v(" "),r("li",[e._v("Run the "),r("code",[e._v("echo")]),e._v(" command in the container instead of the default command:"),r("br"),e._v(" "),r("code",[e._v('[docker run my-image echo "hello"](https://docs.docker.com/engine/reference/commandline/run/)')])]),e._v(" "),r("li",[e._v("Run container in the background:"),r("br"),e._v(" "),r("code",[e._v("[docker run -d my-image](https://docs.docker.com/engine/reference/commandline/run/)")])]),e._v(" "),r("li",[e._v("Run and remove the container after it exits:"),r("br"),e._v(" "),r("code",[e._v("[docker run --rm my-image](https://docs.docker.com/engine/reference/commandline/run/)")])]),e._v(" "),r("li",[e._v("Create a container from "),r("code",[e._v("my-image")]),e._v(", named "),r("code",[e._v("my_container")]),e._v(", and start it:"),r("br"),e._v(" "),r("code",[e._v("[docker run --name my_container my-image](https://docs.docker.com/engine/reference/commandline/run/)")])]),e._v(" "),r("li",[e._v("Run a container, setting an environment variable in the container:"),r("br"),e._v(" "),r("code",[e._v("[docker run --env MY_ENVIRONMENT_VAR=myvalue my-image](https://docs.docker.com/engine/reference/commandline/run/)")])]),e._v(" "),r("li",[e._v("Build new images, create all containers, and start all containers (Compose). (This will not rebuild images if a Dockerfile changes.)"),r("br"),e._v(" "),r("code",[e._v("[docker-compose up](https://docs.docker.com/compose/reference/up/)")])]),e._v(" "),r("li",[e._v("Build, create, and start all in the background (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose up -d](https://docs.docker.com/compose/reference/up/)")])]),e._v(" "),r("li",[r("em",[e._v("Rebuild all images")]),e._v(", create all containers, and start all containers (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose up --build](https://docs.docker.com/compose/reference/up/)")])]),e._v(" "),r("li",[e._v("Create a new container for "),r("code",[e._v("my_service")]),e._v(" in "),r("code",[e._v("docker-compose.yml")]),e._v(" and run the "),r("code",[e._v("echo")]),e._v(" command instead of the specified command:"),r("br"),e._v(" "),r("code",[e._v('[docker-compose run my_service echo "hello"](https://docs.docker.com/compose/reference/run/)')])])]),e._v(" "),r("h3",{attrs:{id:"volumes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#volumes"}},[e._v("#")]),e._v(" volumes")]),e._v(" "),r("ul",[r("li",[e._v("Run a container with a volume named "),r("code",[e._v("my_volume")]),e._v(" mounted at "),r("code",[e._v("/my/path")]),e._v(" in the Docker container. (The volume will be created if it doesn't already exist.) See the "),r("a",{attrs:{href:"https://docs.docker.com/storage/volumes/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Volumes documentation"),r("OutboundLink")],1),e._v(" for more information."),r("br"),e._v(" "),r("code",[e._v("[docker run --mount source=my_volume,target=/my/path my-image](https://docs.docker.com/engine/reference/commandline/run/)")]),r("br"),e._v("\n--- OR ---"),r("br"),e._v(" "),r("code",[e._v("[docker run -v my_volume:/my/path my-image](https://docs.docker.com/engine/reference/commandline/run/)")])]),e._v(" "),r("li",[e._v("Copy all data from a volume named "),r("code",[e._v("my_volume_1")]),e._v(" to a volume named "),r("code",[e._v("my_volume_2")]),e._v(" by running the "),r("code",[e._v("cp")]),e._v(" command in a temporary container created from a "),r("code",[e._v("debian")]),e._v(" image^"),r("a",{attrs:{href:"https://www.saltycrane.com/cheat-sheets/docker/#footnote-1",target:"_blank",rel:"noopener noreferrer"}},[e._v("1"),r("OutboundLink")],1),e._v("^:"),r("br"),e._v(" "),r("code",[e._v('[docker run --rm -it -v my_volume_1:/from -v my_volume_2:/to debian bash -c "cp -av /from/. /to"](https://docs.docker.com/engine/reference/commandline/run/)')]),r("br"),e._v("\n--- OR ---"),r("br"),e._v("\nusing "),r("code",[e._v("rsync")]),e._v(" (after installing it first):"),r("br"),e._v(" "),r("code",[e._v('[docker run --rm -it -v my_volume_1:/from -v my_volume_2:/to debian bash -c "apt update && apt install -y rsync && rsync -avz /from/ /to/"](https://docs.docker.com/engine/reference/commandline/run/)')])])]),e._v(" "),r("h3",{attrs:{id:"ports-networking"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ports-networking"}},[e._v("#")]),e._v(" ports & networking")]),e._v(" "),r("ul",[r("li",[e._v("Run and bind port 80 inside Docker to port 9090 on the host (outside Docker):"),r("br"),e._v(" "),r("code",[e._v("[docker run -p 9090:80 my-image](https://docs.docker.com/engine/reference/commandline/run/)")])]),e._v(" "),r("li",[e._v("Run and access "),r("code",[e._v("localhost")]),e._v(" on the host (outside Docker) using the special DNS name "),r("code",[e._v("host.docker.internal")]),e._v(". Requires Docker 18.03 or greater. (Before 18.03, "),r("code",[e._v("docker.for.mac.localhost")]),e._v(" was available on Mac only.) See "),r("a",{attrs:{href:"https://docs.docker.com/docker-for-mac/networking/#use-cases-and-workarounds",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.docker.com/docker-for-mac/networking/#use-cases-and-workarounds"),r("OutboundLink")],1),r("br"),e._v(" "),r("code",[e._v("[docker run my-image ping host.docker.internal](https://docs.docker.com/engine/reference/commandline/run/)")])]),e._v(" "),r("li",[e._v("Create a network:"),r("br"),e._v(" "),r("code",[e._v("[docker network create my_network](https://docs.docker.com/engine/reference/commandline/network_create/)")]),r("br"),e._v("\nRun a container using a network:"),r("br"),e._v(" "),r("code",[e._v("[docker run --network=my_network my-image](https://docs.docker.com/engine/reference/commandline/run/)")])])]),e._v(" "),r("h3",{attrs:{id:"interacting-with-containers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#interacting-with-containers"}},[e._v("#")]),e._v(" Interacting with containers")]),e._v(" "),r("ul",[r("li",[e._v("Interact with a running container using bash:"),r("br"),e._v(" "),r("code",[e._v("[docker exec -it my_container bash](https://docs.docker.com/engine/reference/commandline/exec/)")])]),e._v(" "),r("li",[e._v("Show logs for a container:"),r("br"),e._v(" "),r("code",[e._v("[docker logs -f my_container](https://docs.docker.com/engine/reference/commandline/logs/)")])]),e._v(" "),r("li",[e._v("Copy "),r("code",[e._v("my-file.txt")]),e._v(" from the host current directory to the "),r("code",[e._v("/tmp")]),e._v(" directory in "),r("code",[e._v("my_container")]),e._v(":"),r("br"),e._v(" "),r("code",[e._v("[docker cp ./my-file.txt my_container:/tmp/my-file.txt](https://docs.docker.com/engine/reference/commandline/cp/)")])]),e._v(" "),r("li",[e._v("Interact with a running container using bash (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose exec my_service bash](https://docs.docker.com/compose/reference/logs/)")])]),e._v(" "),r("li",[e._v("Show all logs (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose logs -f](https://docs.docker.com/compose/reference/logs/)")])])]),e._v(" "),r("h3",{attrs:{id:"getting-information"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#getting-information"}},[e._v("#")]),e._v(" Getting information")]),e._v(" "),r("ul",[r("li",[e._v("Show the Docker version:"),r("br"),e._v(" "),r("code",[e._v("[docker version](https://docs.docker.com/engine/reference/commandline/version/)")])]),e._v(" "),r("li",[e._v("Show the commands used to build an image:"),r("br"),e._v(" "),r("code",[e._v("[docker history my-image](https://docs.docker.com/engine/reference/commandline/history/)")])]),e._v(" "),r("li",[e._v("Show I/O, CPU, and Memory usage for a container:"),r("br"),e._v(" "),r("code",[e._v("[docker stats my_container](https://docs.docker.com/engine/reference/commandline/container_stats/)")])]),e._v(" "),r("li",[e._v("Show files that have changed in a container:"),r("br"),e._v(" "),r("code",[e._v("[docker diff my_container](https://docs.docker.com/engine/reference/commandline/container_diff/)")])]),e._v(" "),r("li",[e._v("Show running processes in a container:"),r("br"),e._v(" "),r("code",[e._v("[docker top my_container](https://docs.docker.com/engine/reference/commandline/top/)")])]),e._v(" "),r("li",[e._v("Show a JSON blob of information about a image, container, volume, etc:"),r("br"),e._v(" "),r("code",[e._v("[docker inspect my-image")]),r("br"),e._v(" "),r("code",[e._v("docker inspect my_container")]),e._v("](https://docs.docker.com/engine/reference/commandline/inspect/)"),r("br"),e._v("\netc.")]),e._v(" "),r("li",[e._v("Show all running processes (Compose):"),r("br"),e._v(" "),r("code",[e._v("[docker-compose top](https://docs.docker.com/compose/reference/top/)")])]),e._v(" "),r("li",[r("code",[e._v("docker-compose")]),e._v(" commands are shaded in gray. They assume a "),r("code",[e._v("docker-compose.yml")]),e._v(" file in the current directory.")])])])}),[],!1,null,null,null);o.default=c.exports}}]);