<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Commandes de base | Waspy &#39;s brain</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="Waspy 's brain">
    <link rel="preload" href="/assets/css/0.styles.b2c118b4.css" as="style"><link rel="preload" href="/assets/js/app.a3bc8273.js" as="script"><link rel="preload" href="/assets/js/2.b6fe608a.js" as="script"><link rel="preload" href="/assets/js/9.08bcdc48.js" as="script"><link rel="prefetch" href="/assets/js/10.b9e590e8.js"><link rel="prefetch" href="/assets/js/11.daf6fbaf.js"><link rel="prefetch" href="/assets/js/12.7f2fe3f5.js"><link rel="prefetch" href="/assets/js/13.128792a4.js"><link rel="prefetch" href="/assets/js/14.bb1f3139.js"><link rel="prefetch" href="/assets/js/15.0144f58b.js"><link rel="prefetch" href="/assets/js/3.40563f0f.js"><link rel="prefetch" href="/assets/js/4.e18d7d7b.js"><link rel="prefetch" href="/assets/js/5.d73c51d5.js"><link rel="prefetch" href="/assets/js/6.a9ce5eb3.js"><link rel="prefetch" href="/assets/js/7.1bff0256.js"><link rel="prefetch" href="/assets/js/8.cb7a2c29.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b2c118b4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Waspy 's brain</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  
</a></div><div class="nav-item"><a href="/divers/" class="nav-link">
  Divers
</a></div><div class="nav-item"><a href="/docker/" class="nav-link router-link-active">
  Docker
</a></div><div class="nav-item"><a href="/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/symfony/" class="nav-link">
  Symfony
</a></div><div class="nav-item"><a href="https://github.com/VachetVirginie/vuePressTest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  
</a></div><div class="nav-item"><a href="/divers/" class="nav-link">
  Divers
</a></div><div class="nav-item"><a href="/docker/" class="nav-link router-link-active">
  Docker
</a></div><div class="nav-item"><a href="/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/symfony/" class="nav-link">
  Symfony
</a></div><div class="nav-item"><a href="https://github.com/VachetVirginie/vuePressTest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docker/Commandes de base.html" class="active sidebar-link">Commandes de base</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="commandes-de-base"><a href="#commandes-de-base" class="header-anchor">#</a> Commandes de base</h1> <blockquote><p>An image is a read-only template with instructions for creating a Docker container.docs.docker.com/engine/docker-overview/#docker-objects</p></blockquote> <blockquote><p>A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image.docs.docker.com/engine/reference/builder/</p></blockquote> <blockquote><p>A container is a runnable instance of an image. You can create, start, stop, move, or delete a container. A container is a process which runs on a host. ...the container process that runs is isolated in that it has its own file system, its own networking, and its own isolated process tree separate from the host.docs.docker.com/engine/docker-overview/#docker-objects, docs.docker.com/engine/reference/run/</p></blockquote> <h3 id="listing"><a href="#listing" class="header-anchor">#</a> Listing</h3> <ul><li>List images:<br> <code>[docker image ls](https://docs.docker.com/engine/reference/commandline/image_ls/)</code><br>
--- OR ---<br> <code>[docker images](https://docs.docker.com/engine/reference/commandline/images/)</code></li> <li>List containers:<br> <code>[docker container ls -a](https://docs.docker.com/engine/reference/commandline/container_ls/)</code><br>
--- OR ---<br> <code>[docker ps -a](https://docs.docker.com/engine/reference/commandline/ps/)</code></li> <li>List volumes:<br> <code>[docker volume ls](https://docs.docker.com/engine/reference/commandline/volume_ls/)</code></li> <li>List networks:<br> <code>[docker network ls](https://docs.docker.com/engine/reference/commandline/network_ls/)</code></li> <li>List all containers (Compose):<br> <code>[docker-compose ps](https://www.saltycrane.com/cheat-sheets/docker/)</code></li></ul> <h3 id="removing"><a href="#removing" class="header-anchor">#</a> Removing</h3> <ul><li>Remove a container:<br> <code>[docker rm my_container](https://docs.docker.com/engine/reference/commandline/rm/)</code></li> <li>Remove all stopped containers:<br> <code>[docker container prune](https://docs.docker.com/engine/reference/commandline/container_prune/)</code></li> <li>Remove an image:<br> <code>[docker image rm my-image](https://docs.docker.com/engine/reference/commandline/image_rm/)</code><br>
--- OR ---<br> <code>[docker rmi my-image](https://docs.docker.com/engine/reference/commandline/rmi/)</code></li> <li>Remove dangling images:<br> <code>[docker image prune](https://docs.docker.com/engine/reference/commandline/image_prune/)</code></li> <li>Remove all images:<br> <code>[docker image prune -a](https://docs.docker.com/engine/reference/commandline/image_prune/)</code></li> <li>Remove a volume:<br> <code>[docker volume rm my_volume](https://docs.docker.com/engine/reference/commandline/volume_rm/)</code></li> <li>Remove all volumes:<br> <code>[docker volume prune](https://docs.docker.com/engine/reference/commandline/volume_prune/)</code></li> <li>Stop and remove containers and networks in <code>docker-compose.yml</code>. (This does not remove volumes.)<br> <code>[docker-compose down](https://docs.docker.com/compose/reference/down/)</code></li> <li>Remove everything:<br> <strong>Preferences -&gt; Uninstall / Reset -&gt; Reset to factory defaults</strong></li></ul> <h3 id="pulling-images"><a href="#pulling-images" class="header-anchor">#</a> Pulling images</h3> <ul><li>Pull and image from the Docker registry (<a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">hub.docker.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>):<br> <code>[docker pull my-image](https://docs.docker.com/engine/reference/commandline/pull/)</code></li></ul> <h3 id="publishing-images"><a href="#publishing-images" class="header-anchor">#</a> Publishing images</h3> <p>See also: <a href="https://docs.docker.com/get-started/part2/#share-your-image" target="_blank" rel="noopener noreferrer">Get started with Docker - Share you image<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>Login to the Docker registry (<a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">hub.docker.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>):<br> <code>[docker login](https://docs.docker.com/engine/reference/commandline/login/)</code></li> <li>Tag an image:<br> <code>[docker tag my-image my-username/my-repo:my-tag](https://docs.docker.com/engine/reference/commandline/tag/)</code></li> <li>Push an image to the Docker registry:<br> <code>[docker push my-username/my-repo:my-tag](https://docs.docker.com/engine/reference/commandline/push/)</code></li></ul> <h3 id="building-images-from-dockerfiles"><a href="#building-images-from-dockerfiles" class="header-anchor">#</a> Building images from Dockerfiles</h3> <ul><li>Build an image from a Dockerfile in the current directory:<br> <code>[docker build -t my-image .](https://docs.docker.com/engine/reference/commandline/build/)</code></li> <li>Build an image using a differently-named Dockerfile:<br> <code>[docker build -f Dockerfile-other -t my-image .](https://docs.docker.com/engine/reference/commandline/build/)</code></li> <li>Rebuild all images (Compose):<br> <code>[docker-compose build](https://docs.docker.com/compose/reference/build/)</code></li> <li>Rebuild a specific image (Compose):<br> <code>[docker-compose build my_service](https://docs.docker.com/compose/reference/build/)</code> <ul><li>where <code>my_service</code> is one of the services listed in the <code>docker-compose.yml</code> file</li></ul></li></ul> <h3 id="creating-containers"><a href="#creating-containers" class="header-anchor">#</a> Creating containers</h3> <ul><li>Create a new container from an image:<br> <code>[docker create my-image](https://docs.docker.com/engine/reference/commandline/create/)</code></li> <li>Build new images and create all containers (Compose). (This will not rebuild images if a Dockerfile changes.) <code>[docker-compose up --no-start](https://docs.docker.com/compose/reference/up/)</code></li></ul> <h3 id="starting-stopping-containers"><a href="#starting-stopping-containers" class="header-anchor">#</a> Starting / stopping containers</h3> <ul><li>Start a container:<br> <code>[docker start my_container](https://docs.docker.com/engine/reference/commandline/start/)</code></li> <li>Stop a container:<br> <code>[docker stop my_container](https://docs.docker.com/engine/reference/commandline/stop/)</code></li> <li>Start all containers (Compose):<br> <code>[docker-compose start](https://docs.docker.com/compose/reference/start/)</code></li> <li>Stop all containers (Compose):<br> <code>[docker-compose stop](https://docs.docker.com/compose/reference/stop/)</code></li></ul> <h3 id="running-containers"><a href="#running-containers" class="header-anchor">#</a> Running containers</h3> <p><code>docker run</code> is a combination of (optionally) <code>docker pull</code>, <code>docker create</code>, and <code>docker start</code>. See also <a href="https://docs.docker.com/engine/reference/run/" target="_blank" rel="noopener noreferrer">Docker run reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <ul><li>Create a container from <code>my-image</code>, and run the default command:<br> <code>[docker run my-image](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Run the <code>echo</code> command in the container instead of the default command:<br> <code>[docker run my-image echo &quot;hello&quot;](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Run container in the background:<br> <code>[docker run -d my-image](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Run and remove the container after it exits:<br> <code>[docker run --rm my-image](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Create a container from <code>my-image</code>, named <code>my_container</code>, and start it:<br> <code>[docker run --name my_container my-image](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Run a container, setting an environment variable in the container:<br> <code>[docker run --env MY_ENVIRONMENT_VAR=myvalue my-image](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Build new images, create all containers, and start all containers (Compose). (This will not rebuild images if a Dockerfile changes.)<br> <code>[docker-compose up](https://docs.docker.com/compose/reference/up/)</code></li> <li>Build, create, and start all in the background (Compose):<br> <code>[docker-compose up -d](https://docs.docker.com/compose/reference/up/)</code></li> <li><em>Rebuild all images</em>, create all containers, and start all containers (Compose):<br> <code>[docker-compose up --build](https://docs.docker.com/compose/reference/up/)</code></li> <li>Create a new container for <code>my_service</code> in <code>docker-compose.yml</code> and run the <code>echo</code> command instead of the specified command:<br> <code>[docker-compose run my_service echo &quot;hello&quot;](https://docs.docker.com/compose/reference/run/)</code></li></ul> <h3 id="volumes"><a href="#volumes" class="header-anchor">#</a> volumes</h3> <ul><li>Run a container with a volume named <code>my_volume</code> mounted at <code>/my/path</code> in the Docker container. (The volume will be created if it doesn't already exist.) See the <a href="https://docs.docker.com/storage/volumes/" target="_blank" rel="noopener noreferrer">Volumes documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more information.<br> <code>[docker run --mount source=my_volume,target=/my/path my-image](https://docs.docker.com/engine/reference/commandline/run/)</code><br>
--- OR ---<br> <code>[docker run -v my_volume:/my/path my-image](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Copy all data from a volume named <code>my_volume_1</code> to a volume named <code>my_volume_2</code> by running the <code>cp</code> command in a temporary container created from a <code>debian</code> image^<a href="https://www.saltycrane.com/cheat-sheets/docker/#footnote-1" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>^:<br> <code>[docker run --rm -it -v my_volume_1:/from -v my_volume_2:/to debian bash -c &quot;cp -av /from/. /to&quot;](https://docs.docker.com/engine/reference/commandline/run/)</code><br>
--- OR ---<br>
using <code>rsync</code> (after installing it first):<br> <code>[docker run --rm -it -v my_volume_1:/from -v my_volume_2:/to debian bash -c &quot;apt update &amp;&amp; apt install -y rsync &amp;&amp; rsync -avz /from/ /to/&quot;](https://docs.docker.com/engine/reference/commandline/run/)</code></li></ul> <h3 id="ports-networking"><a href="#ports-networking" class="header-anchor">#</a> ports &amp; networking</h3> <ul><li>Run and bind port 80 inside Docker to port 9090 on the host (outside Docker):<br> <code>[docker run -p 9090:80 my-image](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Run and access <code>localhost</code> on the host (outside Docker) using the special DNS name <code>host.docker.internal</code>. Requires Docker 18.03 or greater. (Before 18.03, <code>docker.for.mac.localhost</code> was available on Mac only.) See <a href="https://docs.docker.com/docker-for-mac/networking/#use-cases-and-workarounds" target="_blank" rel="noopener noreferrer">https://docs.docker.com/docker-for-mac/networking/#use-cases-and-workarounds<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <code>[docker run my-image ping host.docker.internal](https://docs.docker.com/engine/reference/commandline/run/)</code></li> <li>Create a network:<br> <code>[docker network create my_network](https://docs.docker.com/engine/reference/commandline/network_create/)</code><br>
Run a container using a network:<br> <code>[docker run --network=my_network my-image](https://docs.docker.com/engine/reference/commandline/run/)</code></li></ul> <h3 id="interacting-with-containers"><a href="#interacting-with-containers" class="header-anchor">#</a> Interacting with containers</h3> <ul><li>Interact with a running container using bash:<br> <code>[docker exec -it my_container bash](https://docs.docker.com/engine/reference/commandline/exec/)</code></li> <li>Show logs for a container:<br> <code>[docker logs -f my_container](https://docs.docker.com/engine/reference/commandline/logs/)</code></li> <li>Copy <code>my-file.txt</code> from the host current directory to the <code>/tmp</code> directory in <code>my_container</code>:<br> <code>[docker cp ./my-file.txt my_container:/tmp/my-file.txt](https://docs.docker.com/engine/reference/commandline/cp/)</code></li> <li>Interact with a running container using bash (Compose):<br> <code>[docker-compose exec my_service bash](https://docs.docker.com/compose/reference/logs/)</code></li> <li>Show all logs (Compose):<br> <code>[docker-compose logs -f](https://docs.docker.com/compose/reference/logs/)</code></li></ul> <h3 id="getting-information"><a href="#getting-information" class="header-anchor">#</a> Getting information</h3> <ul><li>Show the Docker version:<br> <code>[docker version](https://docs.docker.com/engine/reference/commandline/version/)</code></li> <li>Show the commands used to build an image:<br> <code>[docker history my-image](https://docs.docker.com/engine/reference/commandline/history/)</code></li> <li>Show I/O, CPU, and Memory usage for a container:<br> <code>[docker stats my_container](https://docs.docker.com/engine/reference/commandline/container_stats/)</code></li> <li>Show files that have changed in a container:<br> <code>[docker diff my_container](https://docs.docker.com/engine/reference/commandline/container_diff/)</code></li> <li>Show running processes in a container:<br> <code>[docker top my_container](https://docs.docker.com/engine/reference/commandline/top/)</code></li> <li>Show a JSON blob of information about a image, container, volume, etc:<br> <code>[docker inspect my-image</code><br> <code>docker inspect my_container</code>](https://docs.docker.com/engine/reference/commandline/inspect/)<br>
etc.</li> <li>Show all running processes (Compose):<br> <code>[docker-compose top](https://docs.docker.com/compose/reference/top/)</code></li> <li><code>docker-compose</code> commands are shaded in gray. They assume a <code>docker-compose.yml</code> file in the current directory.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a3bc8273.js" defer></script><script src="/assets/js/2.b6fe608a.js" defer></script><script src="/assets/js/9.08bcdc48.js" defer></script>
  </body>
</html>
